# DiscordAPI
.NET –∫–ª–∏–µ–Ω—Ç –¥–ª—è Discord REST API (v9)
–†–∞–±–æ—Ç–∞–µ—Ç —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º–∏ —Ç–æ–∫–µ–Ω–∞–º–∏. –ò–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –∏ —Å–∫—Ä–∏–ø—Ç–æ–≤.

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
- üì° –†–∞–±–æ—Ç–∞ —Å Discord REST API v9
- üë§ –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ
- üè† –†–∞–±–æ—Ç–∞ —Å —Å–µ—Ä–≤–µ—Ä–∞–º–∏ (guilds)
- üí¨ –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π –∫–∞–Ω–∞–ª–æ–≤
- üë• –ü–æ–ª—É—á–µ–Ω–∏–µ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ —Å–µ—Ä–≤–µ—Ä–∞
- üß© –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏
- ‚ö° –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π API (async/await)
- üåê –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø—Ä–æ–∫—Å–∏
- ü™∂ –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞
–ü–æ–∫–∞, —á—Ç–æ —Ç–æ–ª—å–∫–æ —Å–∫–∞—á–∞—Ç—å –∏ —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞—Ç—å –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥.

## üîë –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
1.  **–û—Ç–∫—Ä–æ–π—Ç–µ Discrod –≤ –±—Ä–∞—É–∑–µ—Ä–µ**.
2.  **–ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞:**
    *   Windows/Linux: `F12` –∏–ª–∏ `Ctrl+Shift+I`
    *   macOS: `Cmd+Option+I`
3.  **–ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É `Network`**.
4.  **–ù–∞—á–Ω–∏—Ç–µ –ø–µ—á–∞—Ç–∞—Ç—å** –≤ –ª—é–±–æ–º –∞–∫—Ç–∏–≤–Ω–æ–º —á–∞—Ç–µ. –≠—Ç–æ –≤—ã–∑–æ–≤–µ—Ç –æ—Ç–ø—Ä–∞–≤–∫—É —Å–æ–±—ã—Ç–∏—è "–ø–µ—á–∞—Ç–∞–µ—Ç".
5.  **–ù–∞–π–¥–∏—Ç–µ –Ω—É–∂–Ω—ã–π –∑–∞–ø—Ä–æ—Å.** –í —Å–ø–∏—Å–∫–µ –∑–∞–ø—Ä–æ—Å–æ–≤ –∏—â–∏—Ç–µ —Ç–æ—Ç, –∫–æ—Ç–æ—Ä—ã–π –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è `typing` (–º–æ–∂–Ω–æ –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –ø–æ–∏—Å–∫–æ–º –∏–ª–∏ —Ñ–∏–ª—å—Ç—Ä–æ–º).
6.  **–ò–∑—É—á–∏—Ç–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ –∑–∞–ø—Ä–æ—Å–∞:**
    *   –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –Ω–∞–π–¥–µ–Ω–Ω—ã–π –∑–∞–ø—Ä–æ—Å `typing`.
    *   –í –æ—Ç–∫—Ä—ã–≤—à–µ–π—Å—è –ø–∞–Ω–µ–ª–∏ –Ω–∞–π–¥–∏—Ç–µ —Å–µ–∫—Ü–∏—é `Request Headers`.
    *   –ü—Ä–æ–∫—Ä—É—Ç–∏—Ç–µ —Å–ø–∏—Å–æ–∫ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ –¥–æ –ø–æ–ª—è `Authorization`.
7.  **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ.** –í—ã–¥–µ–ª–∏—Ç–µ –∏ —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ **–≤—Å–µ** —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –ø–æ—Å–ª–µ `Authorization: ` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `session-password` –∏–ª–∏ –¥–ª–∏–Ω–Ω—ã–π –Ω–∞–±–æ—Ä —Å–∏–º–≤–æ–ª–æ–≤).

### üö® –í–≤–∞–∂–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
**–ù–∏–∫–æ–≥–¥–∞** –Ω–µ –∫–æ–º–º–∏—Ç—å—Ç–µ —Ç–æ–∫–µ–Ω –≤ Git. –î–æ–±–∞–≤—å—Ç–µ —Ñ–∞–π–ª —Å —Ç–æ–∫–µ–Ω–æ–º –≤ `.gitignore`.
–ü–æ–º–Ω–∏—Ç–µ: —ç—Ç–æ—Ç —Ç–æ–∫–µ–Ω –¥–∞–µ—Ç –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ –≤–∞—à–µ–º—É –∞–∫–∫–∞—É–Ω—Ç—É Discrod.
### ‚ùì –ü–æ—á–µ–º—É —Ç–∞–∫ —Å–ª–æ–∂–Ω–æ?
Discrod –Ω–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–≥–æ —Å–ø–æ—Å–æ–±–∞ –ø–æ–ª—É—á–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π —Ç–æ–∫–µ–Ω –¥–ª—è —Å–∫—Ä–∏–ø—Ç–æ–≤.

## ‚ö° –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
``` csharp
using var client = new DiscordClient("YOUR_TOKEN");

// –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–µ–±–µ
var me = await client.GetMeAsync();
Console.WriteLine($"[{me.Username}]");

// –°–ø–∏—Å–æ–∫ —Å–µ—Ä–≤–µ—Ä–æ–≤
var guilds = await client.GetGuildsAsync();
foreach (var guild in guilds)
{
    Console.WriteLine($"–°–µ—Ä–≤–µ—Ä: {guild.Name} (—É—á–∞—Å—Ç–Ω–∏–∫–æ–≤: {guild.MemberCount})");
    
    // –ö–∞–Ω–∞–ª—ã —Å–µ—Ä–≤–µ—Ä–∞
    var channels = await client.GetGuildChannelsAsync(guild.Id);
    Console.WriteLine($"–ö–∞–Ω–∞–ª–æ–≤: {channels.Count}");
}

// –°–æ–æ–±—â–µ–Ω–∏—è –∫–∞–Ω–∞–ª–∞
var messages = await client.GetChannelMessagesAsync("123456789", limit: 10);
Console.WriteLine($"–ü–æ—Å–ª–µ–¥–Ω–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏–π: {messages.Count}");
```

## üìö API
### –ë–æ—Ç
1) GetMe()
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–µ–∫—É—â–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ (–±–æ—Ç–µ).
``` csharp
DiscordUser user = await client.GetMe();
```
2) GetAvatar()
–ó–∞–≥—Ä—É–∂–∞–µ—Ç –∞–≤–∞—Ç–∞—Ä –±–æ—Ç–∞.
``` csharp
Image? avatar = await client.GetAvatar();
```
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç null, –µ—Å–ª–∏ –∞–≤–∞—Ç–∞—Ä –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç.

### –°–µ—Ä–≤–µ—Ä–∞
1) GetGuildsAsync()
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ —Å–µ—Ä–≤–µ—Ä–æ–≤ –±–æ—Ç–∞.
``` csharp
IReadOnlyList<DiscordGuild> guilds = await client.GetGuildsAsync();
```
2) GetGuildInfoAsync(string guildId)
–ü–æ–ª—É—á–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–µ—Ä–≤–µ—Ä–µ.
``` csharp
DiscordGuild guild = await client.GetGuildInfoAsync("123456789");
```
3) GetGuildChannelsAsync(string guildId)
–ü–æ–ª—É—á–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –∫–∞–Ω–∞–ª–æ–≤ —Å–µ—Ä–≤–µ—Ä–∞.
``` csharp
IReadOnlyList<DiscordChannel> channels = await client.GetGuildChannelsAsync("123456789");
```
4) GetChannelMessagesAsync(string channelId, int limit = 100, string? beforeMessageId = null)
–ü–æ–ª—É—á–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –∫–∞–Ω–∞–ª–∞.
limit ‚Äî –æ—Ç 1 –¥–æ 100
–º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å beforeMessageId –¥–ª—è –ø–∞–≥–∏–Ω–∞—Ü–∏–∏
``` csharp
IReadOnlyList<DiscrodMessage> messages = await client.GetChannelMessagesAsync("987654321", 50);
```
5) GetUser(string guildId, string userId)
–ü–æ–ª—É—á–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ.
``` csharp
DiscordMember member = await client.GetUser("guildId", "userId");
```

### –õ–∏—á–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –∏ –≥—Ä—É–ø–ø—ã
1) GetMyChannelsAsync()
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –ª–∏—á–Ω—ã—Ö —á–∞—Ç–æ–≤ –∏ –≥—Ä—É–ø–ø.
``` csharp
IReadOnlyList<DiscordChannel> channels = await client.GetMyChannelsAsync();
```
3) GetPrivateMessagesAsync()
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –ª–∏—á–Ω—ã—Ö —á–∞—Ç–æ–≤.
``` csharp
IReadOnlyList<DiscordChannel> channels = await client.GetPrivateMessagesAsync();
```
5) GetGroupChatsAsync()
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –≥—Ä—É–ø–ø.
``` csharp
IReadOnlyList<DiscordChannel> channels = await client.GetGroupChatsAsync();
```

## ‚ö†Ô∏è –û—Ç–∫–∞–∑ –æ—Ç –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏
–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –Ω–µ —Å–≤—è–∑–∞–Ω —Å Discord Inc.

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Ç–æ–∫–µ–Ω–æ–≤ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –º–æ–∂–µ—Ç –Ω–∞—Ä—É—à–∞—Ç—å –£—Å–ª–æ–≤–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è Discord.
–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∞ –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ –¥–ª—è –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö —Ü–µ–ª–µ–π.

–ò—Å–ø–æ–ª—å–∑—É—è –¥–∞–Ω–Ω–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ, –≤—ã —Å–æ–≥–ª–∞—à–∞–µ—Ç–µ—Å—å —Å —Ç–µ–º, —á—Ç–æ –ø–æ–ª–Ω–æ—Å—Ç—å—é
–Ω–µ—Å—ë—Ç–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –∑–∞ –ª—é–±—ã–µ –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è, –≤–∫–ª—é—á–∞—è –≤—Ä–µ–º–µ–Ω–Ω—É—é –∏–ª–∏ –ø–æ—Å—Ç–æ—è–Ω–Ω—É—é –±–ª–æ–∫–∏—Ä–æ–≤–∫—É –∞–∫–∫–∞—É–Ω—Ç–∞.
